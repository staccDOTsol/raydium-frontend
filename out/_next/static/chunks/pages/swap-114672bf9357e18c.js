(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8503],{98229:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/swap",function(){return n(7733)}])},475:function(e,t,n){"use strict";n.d(t,{u:function(){return s}});var l=n(62512),i=n(91371),o=n(42186),r=n(17097);async function s(){let e=i.ZP.getState().transactionPriority;if((0,r.hj)(e))return{units:6e5,microLamports:Math.ceil(e*10**o.kE.decimals*1e6/6e5)};{var t;let e=await (0,l.Z)("https://solanacompass.com/api/fees",{cacheFreshTime:3e5}),{avg:n}=null!==(t=null==e?void 0:e[15])&&void 0!==t?t:{};if(!n)return;return{units:6e5,microLamports:Math.min(Math.ceil(1e6*n/6e5),25e3)}}}},6547:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var l=n(85893),i=n(27993),o=n(96398),r=n(67294);function s(e){var t,n;let[s,a]=(0,r.useState)(null!==(n=e.forceDebugStatus)&&void 0!==n?n:"pending"),[c,u]=(0,r.useState)(null);return(0,o.L)(()=>{let t=Promise.resolve(e.promise);t.then(t=>{var n;return e.forceDebugStatus||a("fullfilled"),null===(n=e.onFullfilled)||void 0===n||n.call(e,t),t},t=>{var n;return e.forceDebugStatus||a("rejected"),null===(n=e.onReject)||void 0===n||n.call(e),Promise.reject(t)}).then(e=>{u(e)})},[e.promise]),(0,l.jsx)(l.Fragment,{children:"pending"!==s&&c?null===(t=e.children)||void 0===t?void 0:t.call(e,c):(0,i.u)(e.fallback,[s])})}},88132:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var l=n(85893),i=n(91371),o=n(67294),r=n(66180),s=n(6994);function a(e){var t;let{haveMinHeight:n,wrapperClassName:a,children:c,domRef:u,size:d="lg",cssGradientRotate:m,...f}=e,p=(0,i.ZP)(e=>e.isMobile),h=(0,o.useMemo)(()=>{var e,t,n;return(null===(e=f.style)||void 0===e?void 0:e.borderRadius)?"calc(".concat(f.style.borderRadius," + ").concat(1.2,"px)"):(null===(t=f.className)||void 0===t?void 0:t.match(/mobile:rounded-2xl/g))&&p||(null===(n=f.className)||void 0===n?void 0:n.match(/(^|\s)rounded-2xl($|\s)/))?17.2:"md"===d?7.2:21.2},[f.className,d,null===(t=f.style)||void 0===t?void 0:t.borderRadius,p]);return(0,l.jsx)("div",{ref:u,className:a,style:{"--gradient-rotate":null!=m?"".concat(m,"deg"):void 0,minHeight:n?"300px":void 0,borderRadius:h,padding:1.2,backgroundImage:"linear-gradient(var(--gradient-rotate, 246deg), #da2eef 7.97%, #2b6aff 49.17%, #39d0d8 92.1%)"},children:(0,l.jsx)(s.Z,{...f,size:d,className:(0,r.m)("bg-cyberpunk-card-bg overflow-hidden",f.className),style:{height:"100%",width:"100%"},children:c})})}},99645:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var l=n(85893);function i(e){let{className:t}=e;return(0,l.jsxs)("div",{className:"lds-roller ".concat(null!=t?t:""," mobile:scale-75"),children:[(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{}),(0,l.jsx)("div",{})]})}},33674:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var l=n(85893),i=n(67294),o=n(66180),r=n(91371),s=n(14431),a=n(85503);function c(){let{run:e=!0,initPercent:t=0,componentRef:n,className:r,duration:c=6e4,strokeWidth:u=3,updateDelay:d=1e3,svgWidth:m=36,loop:f=!0,onEnd:p,onClick:h}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},x=.5*m/2,v=2*x*Math.PI,g=(0,i.useRef)(!1),{documentVisible:b}=(0,a.x)(),[y,j]=(0,i.useState)(t),Z=(0,i.useRef)(),S=(0,i.useRef)(null);(0,s.e)(S,{onClick:h,disable:!h}),(0,i.useEffect)(()=>{if(e&&b){let t=globalThis.setInterval(()=>{e&&b&&j(e=>e+1/c*d)},d);return Z.current=t,()=>globalThis.clearInterval(t)}globalThis.clearInterval(1e3)},[c,d,e&&b]);let k=(0,i.useRef)();return(0,i.useEffect)(()=>{if(b&&k.current){let e=Date.now()-k.current;j(t=>t+1/c*e)}b||(k.current=Date.now())},[b]),(0,i.useEffect)(()=>{if(0==Math.floor(y))return;let e=setTimeout(()=>{g.current||(g.current=!0,null==p||p(),setTimeout(()=>{g.current=!1},0))},0);return()=>clearTimeout(e)},[Math.floor(y)]),(0,i.useImperativeHandle)(n,()=>({currentProgressPercent:y%1,restart(){j(0)}})),(0,l.jsx)("div",{className:(0,o.m)("w-full h-full rounded",r),children:(0,l.jsxs)("svg",{ref:S,width:m,height:m,viewBox:"0 0 ".concat(m," ").concat(m),children:[(0,l.jsx)("circle",{r:x,cx:"50%",cy:"50%",fill:"transparent",style:{strokeWidth:u,stroke:"#ffffff2e"}}),(0,l.jsx)("circle",{id:"bar",r:x,cx:"50%",cy:"50%",fill:"transparent",strokeDasharray:v,strokeDashoffset:v-(f?y%1:Math.min(y,1))*v,style:{strokeWidth:u,stroke:"#92e1ffd9",transform:"rotate(-90deg)",transformOrigin:"center",strokeLinecap:"round",transition:"200ms"}})]})})}var u=n(92618),d=n(12839),m=n(43066),f=n(96398),p=n(62361);function h(e){var t,n,s,h;let{run:x=!0,refreshKey:v,popPlacement:g,forceOpen:b,freshFunction:y,freshEach:j=1e3,totalDuration:Z=6e4,className:S,circleBodyClassName:k,disabled:C=!1}=e,w=(0,i.useRef)(),[N,T]=(0,i.useState)(!1);(0,m.N)({loop:j,disable:!N});let{documentVisible:P,documentVisibleRef:R}=(0,a.x)(),[E,A,F]=(0,p.$)(!1),I=()=>A(!0),D=()=>A(!1),B=(0,r.ZP)(e=>e.isMobile),L=null===(t=r.ZP.getState().refreshCircleLastTimestamp[v])||void 0===t?void 0:t.endTimestamp,M=null===(n=r.ZP.getState().refreshCircleLastTimestamp[v])||void 0===n?void 0:n.endProcessPercent,O=L&&M&&(Date.now()-L)/Z+M;return(0,f.L)(()=>{if(!d.N9)return O&&O>1&&(null==y||y()),()=>{var e;r.ZP.setState(t=>{var n;return{refreshCircleLastTimestamp:{...t.refreshCircleLastTimestamp,[v]:{endTimestamp:Date.now(),endProcessPercent:null!==(e=null===(n=w.current)||void 0===n?void 0:n.currentProgressPercent)&&void 0!==e?e:0}}}})}},[]),(0,i.useEffect)(()=>{if(C||!F()||!R.current)return;let e=setTimeout(()=>{!C&&F()&&R.current&&(null==y||y(),D())},0);return()=>clearTimeout(e)},[E,P,C]),(0,l.jsxs)(u.Z,{className:(0,o.m)("select-none",S),placement:g,forceOpen:b,triggerBy:B?"press":void 0,autoClose:!0,onOpen:()=>T(!0),onClose:()=>T(!1),children:[(0,l.jsx)(c,{run:x&&!C,initPercent:O&&O%1,duration:Z,componentRef:w,className:(0,o.m)("clickable clickable-filter-effect",k),onClick:()=>{var e;I(),null===(e=w.current)||void 0===e||e.restart()},onEnd:()=>{var e;I(),null===(e=w.current)||void 0===e||e.restart()}}),(0,l.jsx)(u.Z.Panel,{children:(0,l.jsxs)("div",{className:"w-60",children:["Displayed data will auto-refresh after"," ",Math.round(Z/1e3*(1-(null!==(h=null===(s=w.current)||void 0===s?void 0:s.currentProgressPercent)&&void 0!==h?h:0)))," seconds. Click this circle to update manually."]})})]})}},29197:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var l=n(85893),i=n(18074),o=n(27993),r=n(66180),s=n(45826),a=n(91107);function c(e){let{className:t,style:n,vertical:i,itemClassName:s,itemStyle:c,values:u,currentValue:d=u[0],labels:m=u,onChange:f}=e;return u.filter(Boolean).length?(0,l.jsx)(a.E,{value:d,onChange:null!=f?f:()=>{},className:(0,r.m)("".concat(i?"flex-col":"flex"," ").concat(null!=t?t:"")),style:n,children:u.map((e,t,n)=>(0,l.jsx)(a.E.Option,{value:e,className:"cursor-pointer flex grow",children:r=>{let{checked:a}=r;return e&&(0,l.jsx)("div",{className:"grid grow ".concat(i?"":"place-items-center"," ").concat((0,o.u)(s,[a])),style:(0,o.u)(c,[a,t,n]),children:(0,o.u)(m[t],[a,t,n])})}},t))}):(0,l.jsx)(l.Fragment,{})}function u(e){let{size:t,$valuesLength:n,$transparentBg:a,urlSearchQueryKey:u,className:d,...m}=e;(0,s.i)({currentValue:m.currentValue,values:m.values,onChange:m.onChange,queryKey:u});let f=m.currentValue&&m.values.includes(m.currentValue),p=null!=n?n:m.values.length,h=(f?m.values.findIndex(e=>e===m.currentValue):0)+0;return(0,l.jsx)(c,{...m,currentValue:m.currentValue,className:(0,r.m)("rounded-full p-1",a?"bg-transparent":"bg-cyberpunk-card-bg",d),itemClassName:e=>(0,r.m)("sm"===t?"min-w-[82px] mobile:min-w-[64px] px-2 mobile:px-1.5 h-7 mobile:h-5 text-sm mobile:text-xs":"min-w-[96px] mobile:min-w-[76px] px-3 mobile:px-2 h-9 mobile:h-7 text-sm mobile:text-xs ","grid rounded-full place-items-center font-medium whitespace-nowrap ".concat(e?"text-white":"text-[#ABC4FF]"),(0,o.u)(m.itemClassName,[e])),itemStyle:e=>e?{background:"linear-gradient(245.22deg, rgb(218, 46, 239), rgb(43, 106, 255), rgb(57, 208, 216))",backgroundSize:"".concat(p,"00% 100%"),backgroundPosition:(0,i.Z)(1/(p-1)*h)}:{}})}},18074:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var l=n(81451),i=n(51523),o=n(84207),r=n(72573),s=n(99881);function a(e,t){try{var n,a;let c=(0,o.Z)(null!=e?e:0),u=c.mul((null==t?void 0:t.alreadyPercented)?1:100).toFixed(null!==(n=null==t?void 0:t.fixed)&&void 0!==n?n:2);if((0,l.eq)(c,0))return"0%";if(!(null==t?void 0:t.exact)&&u===0..toFixed(null!==(a=null==t?void 0:t.fixed)&&void 0!==a?a:2))return(null==t?void 0:t.alwaysSigned)?"<+0.01%":"<0.01%";return(null==t?void 0:t.alwaysSigned)?"".concat((0,l.gt)(u,0)?"+":"-").concat((0,s.Z)((0,l.gt)(u,0)?(0,r.B)(u):(0,r.B)((0,i.dC)(u,-1))),"%"):"".concat((0,s.Z)(u,{fractionLength:null==t?void 0:t.fixed}),"%")}catch(e){return"0%"}}},7931:function(e,t,n){"use strict";n.d(t,{H:function(){return o}});var l=n(67294),i=n(12839);function o(e,t,n){var o;let r="all .4s cubic-bezier(0.4, 0, 0.2, 1)",[s,a]=(0,l.useState)(null!==(o=null==n?void 0:n.defaultHasWrapped)&&void 0!==o&&o);(0,l.useEffect)(function(){if(i.N9||!(null==n?void 0:n.defaultHasWrapped))return;let l=e.current,o=t.current;if(!l||!o)return;let r=l.getBoundingClientRect(),s=o.getBoundingClientRect(),a=s.top-r.top,c=r.top<s.top?1:-1;l.style.setProperty("transition",""),o.style.setProperty("transition",""),l.style.setProperty("transform","translateY(".concat(a*c,"px)")),o.style.setProperty("transform","translateY(".concat(-a*c,"px)"))},[]);let c=(0,l.useCallback)(()=>{let n=e.current,l=t.current;if(!n||!l)return;let i=n.getBoundingClientRect(),o=l.getBoundingClientRect(),c=o.top-i.top,u=i.top<o.top?1:-1;n.style.setProperty("transition",r),l.style.setProperty("transition",r),s?(n.style.setProperty("transform","translateY(0px)"),l.style.setProperty("transform","translateY(0px)"),a(!1)):(n.style.setProperty("transform","translateY(".concat(c*u,"px)")),l.style.setProperty("transform","translateY(".concat(-c*u,"px)")),a(!0))},[s,e,t]),u=(0,l.useCallback)(()=>{let n=e.current,l=t.current;n&&l&&(n.style.setProperty("transition",r),l.style.setProperty("transition",r),n.style.setProperty("transform","translateY(0px)"),l.style.setProperty("transform","translateY(0px)"))},[s,e,t]);return(0,l.useEffect)(()=>{let n=e.current,l=t.current,i=()=>{null==n||n.style.setProperty("pointerEvents","none")},o=()=>{null==n||n.style.setProperty("pointerEvents","")};return null==n||n.addEventListener("transitionstart",i),null==n||n.addEventListener("transitionend",o),null==l||l.addEventListener("transitionstart",i),null==l||l.addEventListener("transitionend",o),()=>{null==n||n.removeEventListener("transitionstart",i),null==n||n.removeEventListener("transitionend",o),null==l||l.removeEventListener("transitionstart",i),null==l||l.removeEventListener("transitionend",o)}},[e,t]),[s,{toggleSwap:c,resetSwapPosition:u}]}},51488:function(e,t,n){"use strict";n.d(t,{I:function(){return x}});var l=n(85893),i=n(32260),o=n(81451),r=n(3363),s=n(14200),a=n(51523);async function c(e,t){let n=(0,r.ZP)(e);if(!(0,s.W)(n))return!0;let l=(0,i.U7)(n),c=l.then(e=>!!e&&({isTransferable:!((0,o.$u)(t)&&(0,o.eg)(e.transferFeePercent,1)&&(0,o.lt)(t,(0,a.hi)(e.maximumFee,1)))}).isTransferable);return c}var u=n(28948),d=n(74239),m=n(51800),f=n(72573),p=n(99111),h=n(67294);function x(e){let t=(0,h.useMemo)(()=>e.map(e=>{var t;return(0,r.ZP)(null===(t=e.token)||void 0===t?void 0:t.mint)}),[e]),n=(0,h.useMemo)(()=>e.map(e=>(0,f.B)(e.amount)),[e]),i=(0,p.Z)(async()=>{for(let{token:t,amount:n}of e)if(t){let e=await c(t.mint,n);if(!e)return t}},t.concat(n),void 0),o=!!i,s=e=>{let{className:t}=e;return(0,l.jsx)(v,{className:t,needOpen:o,badToken:i})};return{isWarningChipOpen:o,badToken:i,Token2022FeeTooHighWarningChip:s}}function v(e){let{className:t,needOpen:n,badToken:i}=e;return(0,l.jsx)(u.Z,{show:n,children:(0,l.jsx)("div",{className:t,children:(0,l.jsxs)(m.Z,{className:"bg-[#da2eef1a] text-[#da2eef] rounded-xl py-3 px-3 mobile:px-2 items-center",children:[(0,l.jsx)(d.Z,{className:"mr-1",heroIconName:"exclamation-circle",size:"smi"}),(0,l.jsx)("div",{className:"text-xs mobile:text-2xs",children:"Transfer fee at 100%, transaction will fail."})]})})})}},7733:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return eM}});var l=n(85893),i=n(67294),o=n(66180),r=n(91371),s=n(96662),a=n(57435),c=n(94355),u=n(31555),d=n(62512);async function m(e){if(!e)return[];let t=await (0,d.Z)("https://api.coingecko.com/api/v3/coins/".concat(e,"/market_chart?vs_currency=usd&days=1"),{cacheFreshTime:6e4});return t?t.prices.map(e=>{let[,t]=e;return t}):[]}var f=n(34003),p=n(62952),h=n(4465),x=n(81451),v=n(72573),g=n(97042),b=n(14358),y=n(59277),j=n(475),Z=n(79938),S=n(53002),k=n(23685);async function C(){let{programIds:e}=y.ZP.getState(),{checkWalletHasEnoughBalance:t,tokenAccountRawInfos:n,txVersion:l}=S.Z.getState(),{coin1:i,coin2:o,coin1Amount:r,coin2Amount:s,selectedCalcResult:a,focusSide:c,routeType:u,directionReversed:d,minReceived:m,maxSpent:C}=k.Z.getState(),N=d?o:i,T=(d?s:r)||"0",P=d?i:o,R=(d?r:s)||T;(0,f.Z)(T&&(0,x.gt)(T,0),"should input upCoin amount larger than 0"),(0,f.Z)(R&&(0,x.gt)(R,0),"should input downCoin amount larger than 0"),(0,f.Z)(N,"select a coin in upper box"),(0,f.Z)(P,"select a coin in lower box"),(0,f.Z)(!(0,h.aT)(N.mint,P.mint),"should not select same mint "),(0,f.Z)(a,"can't find correct route");let E=(0,p.n)(N,T,{alreadyDecimaled:!0});return(0,p.n)(P,R,{alreadyDecimaled:!0}),(0,f.Z)(t(E),"not enough ".concat(N.symbol)),(0,f.Z)(u,"accidently routeType is undefined"),(0,Z.ZP)(async t=>{let{transactionCollector:i,baseUtils:{connection:o,owner:r}}=t,s=b.Lb.setComputeUnitLimit({units:400001}),{innerTransactions:c}=await g.nz3.makeSwapInstructionSimple({connection:o,swapInfo:a,ownerInfo:{wallet:r,tokenAccounts:n,associatedOnly:!0,checkCreateATAOwner:!0},routeProgram:e.Router,lookupTableCache:Z.eq,makeTxVersion:l,computeBudgetConfig:await (0,j.u)()});for(let e=0;e<c.length;e++)c[e].instructions[0].programId.toString()!==s.programId.toString()&&(0,g.UeT)([s,...c[e].instructions],[r])&&(c[e].instructions=[s,...c[e].instructions].map(e=>new b.Sl({programId:e.programId,data:e.data,keys:e.keys.map(e=>"MemoSq4gqABAXKb96qnH8TysNcWxMyWCqXgDLGmfcHr"===e.pubkey.toString()?{...e,pubkey:r}:e)})));let u=c.map((e,t,n)=>[e,{onTxError(e){let{signatureResult:t,changeHistoryInfo:n}=e;(function(e){try{var t;let n=null===(t=e.err)||void 0===t?void 0:t.InstructionError[1].Custom;if([38,6022].includes(n))return!0;return!1}catch(e){return!1}})(t)&&(null==n||n({forceErrorTitle:"Swap failed due to slippage error!",description:"Slippage has exceeded user settings.\nTry again or adjust your slippage tolerance."}))},txHistoryInfo:{title:"Swap",description:"Swap ".concat((0,v.B)(T)," ").concat(N.symbol," to ").concat((0,v.B)(m||C)," ").concat(P.symbol),subtransactionDescription:function(e,t,n){let l=n.findIndex(e=>w(e)),i=n.length-1-[...n].reverse().findIndex(e=>w(e));return t<l?"Setup":t>i?"Cleanup":"Swap"}(0,t,n)}}]);i.add(u,{sendMode:"queue(all-settle)"})})}function w(e){return e.instructionTypes.includes(g.p01.clmmSwapBaseIn)||e.instructionTypes.includes(g.p01.clmmSwapBaseOut)||e.instructionTypes.includes(g.p01.ammV4Swap)||e.instructionTypes.includes(g.p01.ammV4SwapBaseIn)||e.instructionTypes.includes(g.p01.ammV4SwapBaseOut)||e.instructionTypes.includes(g.p01.ammV5SwapBaseIn)||e.instructionTypes.includes(g.p01.ammV5SwapBaseOut)||e.instructionTypes.includes(g.p01.routeSwap1)||e.instructionTypes.includes(g.p01.routeSwap2)||e.instructionTypes.includes(g.p01.routeSwap)}var N=n(3363),T=n(42186),P=n(11163),R=n(59995),E=n(78083),A=n(51523),F=n(24608),I=n(12839),D=n(79527),B=n(31166),L=n(80582),M=n(47675);function O(e){return e?e.mintString+e.decimals+e.symbol+e.icon:""}var z=n(91148),W=n(16938),V=n(26842),q=n(60279),U=n(56603);function H(e){var t,n,l,i,o,r,s,a,c;let u=["ray","sol"],d={ammId:String(null!==(n=null!==(t=e.ammId)&&void 0!==t?t:e.ammid)&&void 0!==n?n:""),inputCurrency:String(null!==(l=e.inputCurrency)&&void 0!==l?l:""),inputSymbol:String(null!==(i=e.inputSymbol)&&void 0!==i?i:""),outputCurrency:String(null!==(o=e.outputCurrency)&&void 0!==o?o:""),outputSymbol:String(null!==(r=e.outputSymbol)&&void 0!==r?r:""),inputAmount:String(null!==(s=e.inputAmount)&&void 0!==s?s:""),outputAmount:String(null!==(a=e.outputAmount)&&void 0!==a?a:""),fixed:String(null!==(c=e.fixed)&&void 0!==c?c:"")};return u.some(e=>(0,h.X0)(e,d.inputSymbol))&&(d.inputCurrency="",d.inputAmount="",d.inputSymbol=""),u.some(e=>(0,h.X0)(e,d.outputSymbol))&&(d.outputCurrency="",d.outputAmount="",d.outputSymbol=""),(0,W.dI)(d)}var _=n(32260),$=n(99522),G=n(11601),Y=n(43067),K=n(6994),X=n(70745),J=n(97664),Q=n(54592),ee=n(23484),et=n(88132),en=n(28948),el=n(74239),ei=n(82727),eo=n(11583),er=n(73881),es=n(33674),ea=n(51800),ec=n(29197),eu=n(92618),ed=n(56419),em=n(90547),ef=n(99881),ep=n(18074),eh=n(32825),ex=n(99111),ev=n(43066),eg=n(96398),eb=n(85356),ey=n(99779),ej=n(92224),eZ=n(87980),eS=n(14200),ek=n(76104),eC=n(99645),ew=n(6325),eN=n(65408),eT=n(6547);function eP(e){let{debugLable:t,token:n,onCancel:o,onConfirm:r}=e,s=null==n?void 0:n.mintString,a=n&&(0,eS.W)(n),[c,u]=(0,eb.Z)("USER_CONFIRMED_TOKEN_2022"),d=s&&(null==c?void 0:c.includes(s)),[m,f]=(0,i.useState)(()=>!!(n&&d)),[p,h]=(0,i.useState)(!1),[x,v]=(0,i.useState)(!1);(0,i.useEffect)(()=>{h(!1),f(!1),v(!1)},[s]);let g=(0,l.jsx)(eR,{onConfirm:()=>{null==r||r(),m&&s&&u(e=>(0,z.A5)([...null!=e?e:[],s])),v(!0)},onCancel:()=>{null==o||o(),v(!0)},onPermanentlyConfirm:f,onTemporarilyConfirm:h,open:a&&!d&&!x,token:n,temporarilyConfirm:p,permanentlyConfirm:m});return{ConfirmDialog:g}}function eR(e){let{open:t,token:n,className:r,temporarilyConfirm:s,permanentlyConfirm:a,onTemporarilyConfirm:c,onPermanentlyConfirm:u,onCancel:d,onConfirm:m}=e;if(!n)return null;let f=(0,i.useRef)(!1);(0,i.useEffect)(()=>{f.current=!1},[(0,N.ZP)(n.mint)]);let[p,h]=(0,i.useState)(!1);if(!t)return null;let g=(0,eS.W)(n)?(0,_.U7)(n.mint).catch(()=>{}):void 0;return g?(0,l.jsx)(ew.Z,{placement:"from-bottom",open:!!t,canClosedByMask:!0,onCloseImmediately:()=>{f.current||null==d||d()},children:(0,l.jsx)(K.Z,{className:(0,o.m)("flex flex-col p-8 mobile:p-5 rounded-3xl mobile:rounded-b-none mobile:h-[80vh] w-[min(552px,100vw)] mobile:w-full border-1.5 border-[rgba(171,196,255,0.2)]",r),size:"lg",style:{background:"linear-gradient(140.14deg, rgba(0, 182, 191, 0.15) 0%, rgba(27, 22, 89, 0.1) 86.61%), linear-gradient(321.82deg, #18134D 0%, #1B1659 100%)",boxShadow:"0px 8px 48px rgba(171, 196, 255, 0.12)"},children:(0,l.jsxs)(Q.Z,{className:"items-center",children:[(0,l.jsx)(el.Z,{size:"lg",heroIconName:"exclamation",className:"text-[#D8CB39] mb-3"}),(0,l.jsxs)("div",{className:"mb-6 text-center",children:[(0,l.jsx)("div",{className:"font-semibold text-xl text-white mb-3",children:"Confirm Token2022"}),(0,l.jsx)("div",{className:"font-normal text-base text-[#ABC4FF]",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"mb-2 text-center",children:"This token uses the Token2022 program that is unaudited and still in beta. This is an advanced feature, trade with caution."}),(0,l.jsx)("p",{className:"text-center",children:"The Token2022 program includes Extensions, like Transfer Fees and other transfer restrictions, which can be changed. You will need a wallet that supports Token2022, like Backpack."})]})})]}),(0,l.jsxs)("div",{className:"self-stretch",children:[(0,l.jsx)("div",{className:"pb-4",children:(0,l.jsxs)("div",{children:[(0,l.jsxs)(Q.Z,{className:"bg-[#abc4ff1a] rounded-xl w-full",children:[(0,l.jsxs)(ea.Z,{className:"justify-center items-center gap-2 p-4 rounded-xl bg-[#141041]",children:[(0,l.jsx)(X.Z,{token:n}),(0,l.jsx)("div",{className:"font-semibold",children:null==n?void 0:n.symbol}),(0,l.jsx)($.U,{textClassName:"text-[#abc4ff80]",showDigitCount:8,canExternalLink:!0,children:null==n?void 0:n.mint})]}),(0,l.jsx)("div",{className:"self-center py-3",children:(0,l.jsx)(eT.j,{promise:g,onFullfilled:e=>{e&&h(!0)},fallback:(0,l.jsx)(eC.Z,{className:"mx-auto"}),children:e=>{if(!e)return;let t=!!e.freezeAuthority;return(0,l.jsx)("div",{children:(0,l.jsxs)(Q.Z,{className:"table text-sm",children:[(0,l.jsx)(eE,{hidden:!t,name:"Freeze Authority",value:(0,eN.kC)(String(t)),nameTooltip:"The creator of this token has freeze authority and can freeze transfers or token interactions from your account at any time. Trade with caution"}),(0,l.jsx)(eE,{name:"Transfer Fee",value:(0,ep.Z)(e.transferFeePercent),nameTooltip:"This token uses the Token-2022 program. The token creator has programmed a Transfer Fee that will be subtracted from all token interactions, including swaps or adding/removing liquidity."}),(0,l.jsx)(eE,{name:"Max Transfer Fee",value:"".concat((0,v.B)(e.maximumFee,{decimalLength:"auto ".concat(e.decimals)})," ").concat(n.symbol),nameTooltip:"The maximum transfer fee collected regardless of the amount of tokens transferred"}),(0,l.jsx)(eE,{hidden:(0,x.Jr)(e.nextTransferFeePercent)&&(0,x.Jr)(e.nextMaximumFee),name:"Pending Fee Change",value:"Yes",valueTooltip:"This token uses the Token-2022 program. The token creator has programmed an updated Transfer Fee that will be live in the near future. The fee will be subtracted from all future token interactions and may be higher than the current fee."}),(0,l.jsx)(eE,{hidden:(0,x.Jr)(e.nextTransferFeePercent),name:"Pending Fee Change",value:(0,l.jsxs)(l.Fragment,{children:[(0,ep.Z)(e.nextTransferFeePercent),null!=e.expirationTimeOffset&&(0,l.jsxs)("span",{children:[" ","in ",(0,l.jsx)(eA,{remainSeconds:e.expirationTimeOffset})]})]})}),(0,l.jsx)(eE,{hidden:(0,x.Jr)(e.nextMaximumFee),name:"Pending Max Fee Change",value:(0,l.jsxs)(l.Fragment,{children:[(0,v.B)(e.nextMaximumFee,{decimalLength:"auto ".concat(e.decimals)})," ",n.symbol,null!=e.expirationTimeOffset&&(0,l.jsxs)("span",{children:[" ","in ",(0,l.jsx)(eA,{remainSeconds:e.expirationTimeOffset})]})]})})]})})}})})]}),(0,l.jsx)(ek.X,{checkBoxSize:"sm",disabled:!p,className:"my-2 w-max",checked:s,onChange:c,label:(0,l.jsx)("div",{className:"text-sm italic text-[rgba(171,196,255,0.5)]",children:"I understand the program is unaudited and accept the risks."})}),(0,l.jsx)(ek.X,{checkBoxSize:"sm",disabled:!p,className:"my-2 w-max",checked:a,onChange:u,label:(0,l.jsx)("div",{className:"text-sm italic text-[rgba(171,196,255,0.5)]",children:"Do not warn again for this token."})})]})}),(0,l.jsxs)(Q.Z,{className:"w-full",children:[(0,l.jsx)(Y.Z,{disabled:!s,className:"text-[#ABC4FF] frosted-glass-skygray",onClick:()=>{f.current=!0,null==m||m()},children:"Confirm"}),(0,l.jsx)(Y.Z,{className:"text-[#ABC4FF] text-sm -mb-4",type:"text",onClick:d,children:"Cancel"})]})]})]})})}):null}function eE(e){let{hidden:t,name:n,value:i,nameTooltip:o,valueTooltip:r}=e;return t?null:(0,l.jsxs)(ea.Z,{className:"table-row",children:[(0,l.jsx)("div",{className:"table-cell",children:(0,l.jsxs)(ea.Z,{className:"items-center px-2 font-medium",children:[(0,l.jsx)("div",{children:n}),o&&(0,l.jsxs)(eu.Z,{children:[(0,l.jsx)(el.Z,{iconClassName:"ml-1",size:"sm",heroIconName:"information-circle"}),(0,l.jsx)(eu.Z.Panel,{children:(0,l.jsx)("div",{className:"max-w-[300px] space-y-1.5",children:o})})]}),(0,l.jsx)("div",{className:"ml-1",children:":"})]})}),(0,l.jsx)("div",{className:"table-cell",children:(0,l.jsxs)(ea.Z,{className:"items-center",children:[i,r&&(0,l.jsxs)(eu.Z,{children:[(0,l.jsx)(el.Z,{iconClassName:"ml-1",size:"sm",heroIconName:"information-circle"}),(0,l.jsx)(eu.Z.Panel,{children:(0,l.jsx)("div",{className:"max-w-[300px] space-y-1.5",children:r})})]})]})})]})}function eA(e){var t;let{remainSeconds:n,onReachZeroSeconds:o}=e,r=null!==(t=(0,s.ZP)(e=>e.chainTimeOffset))&&void 0!==t?t:0,[a,c]=(0,i.useState)(Math.max((null!=n?n:0)-r/1e3,0));(0,eg.L)(()=>{c(Math.max((null!=n?n:0)-r/1e3,0))},[r,n]),(0,eg.L)(()=>{a<=0&&(null==o||o())},[a<=0]);let{days:u,hours:d,minutes:m,seconds:f}=(0,em.ZP)(1e3*a);return(0,ev.N)({loop:u>0?36e5:m?6e4:1e3,disable:!n,disableWhenDocumentInvisiable:!1,onLoop:()=>c(e=>e>0?e-1:e)}),(0,l.jsx)("div",{className:"inline-block",children:u?"".concat(u,"d ").concat(d,"h ").concat(m,"m"):d?"".concat(d,"h ").concat(m,"m"):m?"".concat(m,"m"):f?"".concat(f,"s"):"<1m"})}var eF=n(7931),eI=n(51488);function eD(){return!function(){let e=(0,B.ZP)(e=>e.tokens),t=(0,B.ZP)(e=>e.getToken),n=(0,k.Z)(e=>e.coin1),l=(0,k.Z)(e=>e.coin2);(0,i.useEffect)(()=>{let e=(0,M.mu)(),i=Object.keys(e).includes("inputCurrency"),o=Object.keys(e).includes("outputCurrency");n||(null==l?void 0:l.mintString)===T.aF.mintString||i||k.Z.setState({coin1:T.aF}),l||(null==n?void 0:n.mintString)===(0,N.ZP)(L.PD)||o||k.Z.setState({coin2:t(L.PD)})},[e,t,n,l]),(0,i.useEffect)(()=>{let e=t(null==l?void 0:l.mintString);l&&O(l)!==O(e)&&k.Z.setState({coin2:e})},[e,t])}(),!function(){let{query:e,pathname:t,replace:n}=(0,P.useRouter)(),l=function(){let{replace:e}=(0,P.useRouter)(),t=(0,i.useCallback)((0,U.P)((t,n)=>{e({pathname:t,query:n},void 0,{shallow:!0})},{delay:100}),[]);return t}(),o=(0,k.Z)(e=>e.coin1),u=(0,k.Z)(e=>e.coin2),d=(0,k.Z)(e=>e.coin1Amount),m=(0,k.Z)(e=>e.coin2Amount),f=(0,k.Z)(e=>e.focusSide),p=(0,k.Z)(e=>e.directionReversed),x=(0,a.Z)(e=>e.jsonInfos),g=(0,i.useCallback)(e=>x.find(t=>t.id===e),[x]),b=(0,B.ZP)(e=>e.tokens),y=(0,B.ZP)(e=>e.userAddedTokens),j=(0,s.ZP)(e=>e.connection),Z=(0,B.ZP)(e=>e.getToken),S=(0,B.ZP)(e=>e.toUrlMint),C=(0,r.ZP)(e=>e.inCleanUrlMode),[w,E]=(0,i.useState)(!1);(0,i.useEffect)(()=>{t.includes("/swap")||E(!1)},[t]),(0,i.useEffect)(()=>{let e=()=>E(!1);return null==globalThis||globalThis.addEventListener("beforeunload",e),()=>null==globalThis?void 0:globalThis.removeEventListener("beforeunload",e)},[]),(0,V.Z)(async()=>{var n,l;if(!t.includes("/swap")||w)return;let{ammId:i,inputCurrency:o,outputCurrency:r,inputSymbol:s,outputSymbol:a,inputAmount:u,outputAmount:d,fixed:m}=H(e);if("sol"===o&&r===(0,N.ZP)(T.DA))k.Z.setState({coin1:T.aF,coin2:T.FI});else if(o===(0,N.ZP)(T.DA)&&"sol"===r)k.Z.setState({coin1:T.FI,coin2:T.aF});else if(i){let e;let{logWarning:t}=c.Z.getState(),u=await (0,q.E)(o,s),d=await (0,q.E)(r,a);if(i&&(e=g(i)),!e&&u&&d&&(e=await (0,R.Ap)({mint1:o,mint2:r})),console.log("matchedLiquidityJsonInfo",e),e){let t=null!==(n=Z(null==e?void 0:e.baseMint))&&void 0!==n?n:u,i=null!==(l=Z(null==e?void 0:e.quoteMint))&&void 0!==l?l:d;(0,z.CW)([o,r],[String(null==t?void 0:t.mint),String(null==i?void 0:i.mint)])||k.Z.setState((0,W.dI)({coin1:t,coin2:i}))}else x.length>0&&Object.keys(b||{}).length>0&&t("Pool not found. Check the URL link or search manually.")}else if(o||r){let e=await (0,q.E)(o,s),t=await (0,q.E)(r,a);k.Z.setState((0,W.dI)({coin1:e,coin2:e===t?void 0:t}))}let h=o?u:r?d:void 0,v=r?d:o?u:void 0;console.log("coin1Amount",h),console.log("coin2Amount",v),h&&k.Z.setState({coin1Amount:h}),v&&k.Z.setState({coin2Amount:v}),("in"===m||"out"===m)&&(p?"coin2"===f?"in":"out":"coin2"===f?"out":"in")!==m&&k.Z.setState({focusSide:"in"===m?p?"coin2":"coin1":p?"coin1":"coin2"}),x.length>0&&Object.values(b).length>0&&E(!0)},[w,j,t,e,Z,b,y,n,x,g]),(0,i.useEffect)(()=>{if(!t.includes("/swap")||!w||C)return;let n=o?S(o):"",i=u?S(u):"",r=(null==o?void 0:o.userAdded)?o.symbol:void 0,s=(null==u?void 0:u.userAdded)?u.symbol:void 0,a=(0,W.CE)(H(e),["ammId"]),c=(0,W.dI)({inputCurrency:p?i:n,inputSymbol:r,outputCurrency:p?n:i,outputSymbol:s,inputAmount:(0,v.B)(p?m:d),outputAmount:(0,v.B)(p?d:m),fixed:p?"coin2"===f?"in":"out":"coin2"===f?"out":"in"}),x=!(0,h.Ek)(a,c);x&&l(t,c)},[w,C,o,u,d,m,p,f,e,n,t]),(0,i.useEffect)(()=>{o===u&&k.Z.setState({coin2:void 0,coin2Amount:0})},[o,u])}(),!function(){let{pathname:e}=(0,P.useRouter)(),t=(0,s.ZP)(e=>e.connection),n=(0,k.Z)(e=>e.coin1),l=(0,k.Z)(e=>e.coin2),o=(0,k.Z)(e=>e.coin1Amount),c=(0,k.Z)(e=>e.coin2Amount),u=(0,k.Z)(e=>e.refreshCount),d=(0,k.Z)(e=>e.directionReversed),m=d?"coin2":"coin1",f=(0,r.ZP)(e=>e.slippageTolerance),p=(0,S.Z)(e=>e.connected),b=(0,r.ZP)(e=>e.isApprovePanelShown),y=d?l:n,j=(d?c:o)||"0",Z=d?n:l,C=(0,a.Z)(e=>e.jsonInfos);(0,i.useEffect)(()=>{k.Z.setState({calcResult:void 0,selectedCalcResult:void 0,selectedCalcResultPoolStartTimes:void 0,preflightCalcResult:void 0,isCalculating:!1,fee:void 0,minReceived:void 0,maxSpent:void 0,priceImpact:void 0,executionPrice:void 0,["coin1"===m?"coin2Amount":"coin1Amount"]:void 0})},[t,null==n?void 0:n.mintString,null==l?void 0:l.mintString,d]),(0,i.useEffect)(()=>{(async function(){var e;if(!n||!l||(0,x.$u)(o)&&(0,x.$u)(c))return;k.Z.setState({preflightCalcResult:void 0,canFindPools:void 0,swapable:void 0});let{routeList:i,bestResult:r,bestResultStartTimes:s}=null!==(e=await (0,R.Qf)({connection:t,input:n,output:l,inputAmount:1,slippageTolerance:.5}).catch(e=>console.error(e)))&&void 0!==e?e:{};console.log(i),console.log(i),console.log(i),console.log(i);let a=!!(null==r?void 0:r.poolReady);k.Z.setState({preflightCalcResult:i,canFindPools:!!r,swapable:a,selectedCalcResultPoolStartTimes:s})})()},[t,null==n?void 0:n.mintString,null==l?void 0:l.mintString,d]);let w=(0,F.Nr)(()=>{if(b){k.Z.setState({isCalculating:!1});return}if(!y||!Z||!t||!e.startsWith("/swap")){k.Z.setState({calcResult:void 0,selectedCalcResult:void 0,selectedCalcResultPoolStartTimes:void 0,isInsufficientLiquidity:void 0,isCalculating:!1,fee:void 0,minReceived:void 0,maxSpent:void 0,priceImpact:void 0,executionPrice:void 0,["coin1"===m?"coin2Amount":"coin1Amount"]:void 0});return}let i=(0,h.aT)(n,l)&&(0,h.aT)(n,g.VbZ.mint);if(i){if((0,x.eq)(o,c))return;let{isApprovePanelShown:e}=r.ZP.getState();if(e)return;k.Z.setState({calcResult:void 0,selectedCalcResult:void 0,selectedCalcResultPoolStartTimes:void 0,isCalculating:!1,fee:void 0,minReceived:void 0,maxSpent:void 0,priceImpact:void 0,executionPrice:void 0,["coin1"===m?"coin2Amount":"coin1Amount"]:"coin1"===m?(0,v.B)(o):(0,v.B)(c),["coin1"===m?"isCoin2CalculateTarget":"isCoin1CalculateTarget"]:!1});return}if(!(0,x.$u)(j)){k.Z.setState(d?{coin1Amount:void 0}:{coin2Amount:void 0}),k.Z.setState({calcResult:void 0,selectedCalcResult:void 0,selectedCalcResultPoolStartTimes:void 0,isCalculating:!1,fee:void 0,minReceived:void 0,maxSpent:void 0,priceImpact:void 0,executionPrice:void 0});return}let{abort:s}=(0,E.t)(async e=>{var n,l;k.Z.setState({isCalculating:!0});let i=await (0,R.Qf)({connection:t,input:y,output:Z,inputAmount:j,slippageTolerance:f}).then(e=>{let{routeList:t,bestResult:n,bestResultStartTimes:l,isInsufficientLiquidity:i}=null!=e?e:{};return{routeList:t,bestResult:n,bestResultStartTimes:l,isInsufficientLiquidity:i}}).catch(e=>{console.error(e)});if(!i||!e())return;let{routeList:o,bestResult:r,bestResultStartTimes:s,isInsufficientLiquidity:a}=i,c=(()=>{let e=k.Z.getState().directionReversed,t=(e?k.Z.getState().coin2Amount:k.Z.getState().coin1Amount)||"0";return e?k.Z.getState().coin1Amount:k.Z.getState().coin2Amount,(0,x.eq)(t,j)})();if(!c)return;let u=null==r?void 0:r.poolReady,d=!!(null==o?void 0:o.length),{priceImpact:p,executionPrice:h,currentPrice:v,routeType:g,fee:b,amountOut:S,minAmountOut:C,poolKey:w}=null!=r?r:{};k.Z.setState({fee:b,calcResult:o,preflightCalcResult:o,selectedCalcResult:r,selectedCalcResultPoolStartTimes:s,isCalculating:!1,priceImpact:p,executionPrice:h,currentPrice:v,minReceived:C&&(0,A.h9)(C.amount,null!==(n=C.fee)&&void 0!==n?n:0),maxSpent:void 0,swapable:u,routeType:g,canFindPools:d,isInsufficientLiquidity:a,["coin1"===m?"coin2Amount":"coin1Amount"]:S&&(0,A.h9)(S.amount,null!==(l=S.fee)&&void 0!==l?l:0),["coin1"===m?"isCoin2CalculateTarget":"isCoin1CalculateTarget"]:!1})});return s},{debouncedOptions:{delay:300}});!function(e,t){let n=(0,i.useRef)();(0,i.useEffect)(()=>{I.kW&&(0,D.Kk)(()=>{"function"==typeof n.current&&n.current();let t=e();n.current=t})},t)}(()=>{k.Z.setState({isCalculating:!0}),w()},[b,null==y?void 0:y.mintString,null==Z?void 0:Z.mintString,d,"coin1"===m?(0,v.B)(o):(0,v.B)(c),m,f,t,e,u,p,C])}(),null}let{ContextProvider:eB,useStore:eL}=(0,eh.Z)({hasAcceptedPriceChange:!1,coinInputBox1ComponentRef:(0,i.createRef)(),coinInputBox2ComponentRef:(0,i.createRef)(),swapButtonComponentRef:(0,i.createRef)()});function eM(){return(0,l.jsxs)(eB,{children:[(0,l.jsx)(eD,{}),(0,l.jsxs)(er.Z,{mobileBarTitle:"Swap",metaTitle:"Swap - Raydium",children:[(0,l.jsx)(eO,{}),(0,l.jsx)(eW,{}),(0,l.jsx)(e1,{})]})]})}function eO(){return(0,l.jsx)(ea.Z,{className:"justify-center  mb-12 mobile:mb-2",children:(0,l.jsx)(ec.Z,{currentValue:"Swap",values:["Swap","Liquidity"],onChange:e=>{"Liquidity"===e&&(0,u.Eh)("/liquidity/add")}})})}function ez(){let e=(0,S.Z)(e=>e.allWsolBalance),t=(0,k.Z)(e=>e.refreshSwap),n=(0,S.Z)(e=>e.connected),[o,r]=(0,i.useState)(!1);return(0,x.gt)(e,0)&&n?(0,l.jsxs)(ea.Z,{className:"rounded-lg p-3 bg-[#4069BB] flex justify-center items-center gap-1 mobile:mb-5",children:[(0,l.jsx)(el.Z,{size:"sm",heroIconName:"exclamation-circle",className:"ml-2 text-white"}),(0,l.jsxs)(ea.Z,{children:[(0,l.jsxs)("p",{className:"text-xs mobile:text-2xs text-[white]",children:["You have"," ",(0,l.jsx)("span",{className:"text-white",children:(0,v.B)((0,p.n)(T.FI,e))})," WSOL that you can"," ",(0,l.jsx)("span",{className:"text-[#39D0D8] cursor-pointer font-semibold",onClick:()=>{r(!0),(0,Z.ZP)(async e=>{let{transactionCollector:t,baseUtils:{owner:n,connection:l}}=e,{allTokenAccounts:i,tokenAccountRawInfos:o,txVersion:r}=S.Z.getState(),s=i.filter(e=>(0,N.ZP)(e.mint)===(0,N.ZP)(T.DA)),a=o.filter(e=>{let t=!1;for(let n of s)if((0,N.ZP)(n.publicKey)===(0,N.ZP)(e.pubkey)){t=!0;break}return t}),c=(0,g.d5x)({tokenAccounts:a}),{innerTransactions:u}=await (0,g.FYO)({connection:l,ownerInfo:{wallet:n,payer:n},tokenAccounts:a,makeTxVersion:r}),d=u.map((e,t)=>[e,{txHistoryInfo:{title:"Unwrapped all WSOL",description:"Unwrapped total ".concat((0,v.B)((0,p.n)(T.FI,c))," WSOL")}}]);t.add(d)}).then(e=>{let{allSuccess:n}=e;n&&t(),r(!1)})},children:"Unwrap"})]}),o&&(0,l.jsx)(eo.Z,{className:"w-3 h-3 ml-2"})]})]}):null}function eW(){var e;let{connected:t,connecting:n}=(0,S.Z)(),o=(0,k.Z)(e=>e.coin1),u=(0,k.Z)(e=>e.coin2),d=(0,k.Z)(e=>e.coin1Amount),m=(0,k.Z)(e=>e.coin2Amount);0==m&&(m=d);let f=(0,k.Z)(e=>e.isCoin1CalculateTarget),h=(0,k.Z)(e=>e.isCoin2CalculateTarget),g=(0,k.Z)(e=>e.isCalculating),b=(0,k.Z)(e=>e.directionReversed),y=(0,k.Z)(e=>e.priceImpact),j=(0,k.Z)(e=>e.refreshSwap),Z=(0,S.Z)(e=>e.balances);(0,k.Z)(e=>e.preflightCalcResult);let w=(0,B.ZP)(e=>e.tokens),N=Object.keys(w).length>2;(0,a.Z)(e=>e.jsonInfos),(0,k.Z)(e=>e.swapable);let P=(0,k.Z)(e=>e.selectedCalcResultPoolStartTimes),R=(0,s.ZP)(e=>e.chainTimeOffset),E=Date.now()+(null!=R?R:0),A=(0,i.useMemo)(()=>{if(null==P?void 0:P.length)return function(e){let t=(0,em.ZP)(e);return"Pool Opens in ".concat(String(t.days).padStart(2,"0"),"D : ").concat(String(t.hours).padStart(2,"0"),"H : ").concat(String(t.minutes).padStart(2,"0"),"M")}(Math.max(...P.map(e=>e.startTime))-E)},[P,E]),F=(0,k.Z)(e=>e.isInsufficientLiquidity),I=(0,B.ZP)(e=>e.refreshTokenPrice),{hasConfirmed:D,popConfirm:L}=function(){let e=(0,k.Z)(e=>e.directionReversed),t=(0,k.Z)(e=>e.coin1),n=(0,k.Z)(e=>e.coin2),o=e?t:n,r=(0,B.ZP)(e=>{var t;return null===(t=e.tokenListSettings[B.pI])||void 0===t?void 0:t.mints}),[s,a]=(0,eb.Z)("USER_CONFIRMED_SWAP_TOKENS"),u=!!(o&&((null==r?void 0:r.size)===0||(null==r?void 0:r.has(null==o?void 0:o.mintString)))),d=!!(o&&(null==s?void 0:s.includes(null==o?void 0:o.mintString))),[m,f]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!1);(0,i.useEffect)(()=>{f(!1)},[o]);let x=(0,i.useMemo)(()=>o&&(null==o.hasFreeze?(0,_.WX)(o.mint,{noLog:!0}).then(e=>null!=e?!e:void 0):!!o.hasFreeze),[null==o?void 0:o.mintString]),v=(0,ex.Z)(()=>x,[x],!0===x),g=()=>{p||(h(!0),c.Z.getState().popConfirm({cardWidth:"lg",type:"warning",title:"Confirm Token Mint Address",description:(0,l.jsxs)("div",{className:"space-y-4  text-center",children:[(0,l.jsx)("p",{className:"text-[#FED33A] font-bold",children:"Confirm the token mint address is correct before swapping!"}),(0,l.jsxs)("p",{children:["Many tokens have ",(0,l.jsx)("span",{className:"text-[#FED33A]",children:"similar or identical"})," token tickers and icons."]}),(0,l.jsx)("p",{children:"By clicking below, you understand that you are fully responsible for confirming the token you are trading."}),(0,l.jsxs)(ea.Z,{className:"justify-center items-center gap-2 my-4 bg-[#141041] rounded py-3 w-full",children:[(0,l.jsx)(X.Z,{token:o}),(0,l.jsx)("div",{className:"font-semibold",children:null==o?void 0:o.symbol}),(0,l.jsx)($.U,{textClassName:"text-[#abc4ff80]",showDigitCount:8,canExternalLink:!0,children:null==o?void 0:o.mint})]}),v&&(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-center my-4 text-[#FED33A] font-bold",children:"Freeze Authority Warning"}),(0,l.jsxs)("div",{className:"text-center my-2 text-xs text-[#FED33A]",children:["This token has freeze authority enabled and could",(0,l.jsx)("br",{}),"prevent you from transferring or trading the token later."]})]})]}),confirmButtonIsMainButton:!0,cancelButtonText:"Cancel",confirmButtonText:"I understand, Confirm",onConfirm:()=>{f(!0),h(!1),(null==o?void 0:o.mint)&&a(e=>(0,z.jX)(null!=e?e:[],String(o.mint)))},onCancel:()=>{f(!1),h(!1),k.Z.setState(e?{coin1:void 0}:{coin2:void 0})}}))},b=!o||u||d||m;return(0,i.useEffect)(()=>{!b&&o&&g()},[o,b]),{hasConfirmed:b,popConfirm:g}}(),M=b?u:o,O=(b?m:d)||"0";console.log("upCoinAmount",O);let W=(b?d:m)||O;console.log("downCoinAmount",W);let{ConfirmDialog:V}=eP({token:o,onConfirm:()=>k.Z.setState({coin1:o}),onCancel:()=>k.Z.setState({coin1:void 0})}),{ConfirmDialog:q}=eP({token:u,onConfirm:()=>k.Z.setState({coin2:u}),onCancel:()=>k.Z.setState({coin2:void 0})}),{hasAcceptedPriceChange:U,swapButtonComponentRef:H,coinInputBox1ComponentRef:G,coinInputBox2ComponentRef:K}=eL(),Q=(0,S.Z)(e=>e.checkWalletHasEnoughBalance),ee=(0,i.useMemo)(()=>M&&Q((0,p.n)(M,O,{alreadyDecimaled:!0})),[M,O,Q,Z]),ei=(0,i.useCallback)(()=>{k.Z.setState(e=>({directionReversed:!e.directionReversed}))},[]),[eo,{on:er,off:ec}]=(0,ej.ZP)(),[ed,ef]=(0,i.useState)("1"),eh=(0,k.Z)(e=>e.executionPrice),ev=(0,i.useRef)(null),eg=(0,i.useRef)(null),[ey,{toggleSwap:eS}]=(0,eF.H)(ev,eg,{defaultHasWrapped:b});(0,i.useEffect)(()=>{k.Z.setState({directionReversed:ey})},[ey]);let ek=o&&(0,x.$u)(d)&&u&&(0,x.$u)(m)&&eh,eC=(0,i.useRef)(null);(0,i.useEffect)(()=>{k.Z.setState({scrollToInputBox:()=>{var e;return null===(e=eC.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth",block:"center"})}})},[]);let ew=(0,r.ZP)(e=>e.isApprovePanelShown),eN=(0,i.useMemo)(()=>{if("1"===ed&&u){if(u.symbol===T.aF.symbol)return[T.FI];if(u.symbol===T.FI.symbol)return[T.aF]}else if("2"===ed&&o){if(o.symbol===T.aF.symbol)return[T.FI];if(o.symbol===T.FI.symbol)return[T.aF]}return[]},[ed,o,u]),eT=(0,k.Z)(e=>e.selectedCalcResult),eR=null==eT?void 0:eT.expirationTime,[eE,eA]=(0,i.useState)(0===eR),{isWarningChipOpen:eD,badToken:eB,Token2022FeeTooHighWarningChip:eM}=(0,eI.I)([{token:o,amount:d},{token:u,amount:m}]);return(0,l.jsxs)(et.Z,{domRef:eC,wrapperClassName:"w-[min(456px,100%)] self-center cyberpunk-bg-light",className:"py-8 pt-4 px-6 mobile:py-5 mobile:px-3",children:[(0,l.jsx)(ez,{}),(0,l.jsxs)("div",{className:"space-y-5 mt-5 mobile:mt-0",children:[(0,l.jsx)(J.Z,{domRef:ev,disabled:ew,noDisableStyle:!0,disabledInput:b,componentRef:G,haveHalfButton:!0,haveCoinIcon:!0,showTokenSelectIcon:!0,topLeftLabel:ey?"To":"From",onTryToTokenSelect:()=>{er(),ef("1")},onEnter:e=>{var t,n,l,i;e&&(u||null===(t=K.current)||void 0===t||null===(n=t.selectToken)||void 0===n||n.call(t),u&&m&&(null===(l=H.current)||void 0===l||null===(i=l.click)||void 0===i||i.call(l)))},token:o,value:f?"0":d?(0,x.eq)(d,0)?"":(0,v.B)(d):void 0,onUserInput:e=>{k.Z.setState({focusSide:"coin1",coin1Amount:e})},hideTransferFee:!0}),(0,l.jsxs)("div",{className:"relative h-8",children:[(0,l.jsxs)(ea.Z,{className:"absolute items-center transition-all ".concat(eh?"left-4":"left-1/2 -translate-x-1/2"),children:[(0,l.jsx)(el.Z,{size:"sm",iconSrc:"/icons/msic-swap.svg",className:"p-2 frosted-glass frosted-glass-teal rounded-full mr-4 ".concat(ew?"not-clickable":"clickable"," select-none transition"),onClick:()=>{ew||(eS(),ei())}}),eh&&(0,l.jsx)("div",{className:"absolute left-full",children:(0,l.jsx)(e_,{})})]}),(0,l.jsx)("div",{className:"absolute right-0 ".concat(ew?"not-clickable":"clickable"),children:(0,l.jsx)(es.Z,{run:!ew,refreshKey:"swap",popPlacement:"right-bottom",freshFunction:()=>{j(),I()}})})]}),(0,l.jsx)(J.Z,{domRef:eg,disabled:ew,noDisableStyle:!0,disabledInput:!b,componentRef:K,haveHalfButton:!0,haveCoinIcon:!0,showTokenSelectIcon:!0,topLeftLabel:ey?"From":"To",onTryToTokenSelect:()=>{er(),ef("2")},onEnter:e=>{var t,n,l,i;e&&(o||null===(t=G.current)||void 0===t||null===(n=t.selectToken)||void 0===n||n.call(t),o&&d&&(null===(l=H.current)||void 0===l||null===(i=l.click)||void 0===i||i.call(l)))},token:u,value:h?"0":m?(0,x.eq)(m,0)?"":(0,v.B)(m):void 0,onUserInput:e=>{k.Z.setState({focusSide:"coin2",coin2Amount:e})},hideTransferFee:!0})]}),(0,l.jsx)(en.Z,{show:ek,children:(0,l.jsx)(e$,{className:"mt-5",onExpirationTimeRunToZero:()=>eA(!0)})}),(0,l.jsx)(eU,{}),V,q,eM({className:"pt-5"}),(0,l.jsx)(Y.Z,{className:"w-full frosted-glass-teal mt-5",componentRef:H,isLoading:ew,validators:[{should:N,fallbackProps:{children:"Loading Tokens ..."}},{should:!0,fallbackProps:{children:"Loading Pools ..."}},{should:t,forceActive:!0,fallbackProps:{onClick:()=>r.ZP.setState({isWalletSelectorShown:!0}),children:n?"Connecting...":"Connect Wallet"}},{should:M&&(b?o:u),fallbackProps:{children:"Select a token"}},{should:D,forceActive:!0,fallbackProps:{onClick:L,children:"Confirm unOfficial warning"}},{not:eD},{should:!0,fallbackProps:{children:"Finding Pool ..."}},{not:eE,fallbackProps:{children:"Token 2022 Expired"}},{should:!F,fallbackProps:{children:(0,l.jsxs)(ea.Z,{className:"items-center",children:[(0,l.jsx)("div",{children:"Insufficient Liquidity"}),(0,l.jsxs)(eu.Z,{className:"w-full",children:[(0,l.jsx)(el.Z,{size:"sm",heroIconName:"question-mark-circle",className:"ml-2 cursor-help"}),(0,l.jsx)(eu.Z.Panel,{children:(0,l.jsx)("p",{className:"w-64",children:"The route for this swap includes a CLMM pool with insufficient in-range liquidity for your swap. Try swapping for a smaller amount or try again later."})})]})]})}},{should:!0,fallbackProps:{children:"Pool Not Found"}},{should:!A,fallbackProps:{children:A}},{should:O&&(0,x.$u)(O),fallbackProps:{children:"Enter an amount"}},{should:!g,fallbackProps:{children:"Calculating ..."}},{should:!(0,x.eq)(W,0),fallbackProps:{children:"Swap Amount Too Small"}},{should:ee,fallbackProps:{children:"Insufficient ".concat(null!==(e=null==M?void 0:M.symbol)&&void 0!==e?e:""," balance")}},{should:U||ew,fallbackProps:{children:"Accept price change"}},{should:y&&(0,x.G)(y,.05),forceActive:!0,fallbackProps:{onClick:e=>{let{ev:t}=e;return t.stopPropagation(),function(e){let{priceImpact:t}=e;c.Z.getState().popConfirm({type:"error",title:"High Price Impact Warning",description:(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("p",{children:["Price impact for this swap is"," ",(0,l.jsx)("span",{className:"text-[#DA2EEF]",children:t?(0,ep.Z)(t):"higher than 5%"})]}),(0,l.jsx)("p",{children:"Confirming may result in a poor price for this swap!"})]}),confirmButtonText:"Swap Anyway",onConfirm:C})}({priceImpact:y})}}}],onClick:C,children:"Swap"}),(0,l.jsx)(eH,{}),(0,l.jsx)(eZ.Z,{open:eo,onSelectToken:e=>{"1"===ed?eq(o,e)||(k.Z.setState({coin1:e,[b?"isCoin1CalculateTarget":"isCoin2CalculateTarget"]:!0}),eV(e,u)||k.Z.setState({coin2:void 0})):eq(u,e)||(k.Z.setState({coin2:e,[b?"isCoin1CalculateTarget":"isCoin2CalculateTarget"]:!0}),eV(e,o)||k.Z.setState({coin1:void 0})),ec()},onClose:ec,disableTokens:eN})]})}function eV(e,t){return(0,T.Dn)(e)&&(0,T.Ee)(t)||(0,T.Ee)(e)&&(0,T.Dn)(t)||!(0,h.aT)(null==e?void 0:e.mint,null==t?void 0:t.mint)}function eq(e,t){return(null==e?void 0:e.mint)===t.mint}function eU(){let{hasAcceptedPriceChange:e,setHasAcceptedPriceChange:t}=eL(),n=(0,r.ZP)(e=>e.isApprovePanelShown),o=(0,k.Z)(e=>e.coin1),s=(0,k.Z)(e=>e.coin2),a=(0,k.Z)(e=>e.coin1Amount),c=(0,k.Z)(e=>e.coin2Amount),u=(0,k.Z)(e=>e.directionReversed),d=u?"coin2":"coin1",m="coin1"===d?o:s,f="coin1"===d?a:c,p="coin1"===d?s:o,h="coin1"===d?c:a,v=(0,i.useRef)(!1);(0,ey.P)(e=>{let[n,l,i,o,r]=e,s=null!=n&&n!==m,a=!!(f&&(0,x.$u)(l)&&!(0,x.eq)(l,f)),c=null!=i&&i!==p,d=!!(h&&(0,x.$u)(o)&&!(0,x.eq)(o,h)),g=null!=r&&r!==u,b=!s&&!a&&!c&&!d&&!g;b?t(!0):!b&&(a||s||c||g)?(t(!0),v.current=!0):d&&(v.current||a||t(!d),v.current=!1)},[m,f,p,h,u]);let g=(0,x.$u)(a)&&(0,x.$u)(c);return(0,l.jsx)(en.U,{children:g&&!e&&!n&&(0,l.jsxs)(ea.Z,{className:"mt-5 bg-[#141041] rounded-xl py-2 px-6 mobile:px-4 items-center justify-between",children:[(0,l.jsxs)(ea.Z,{className:"text-sm font-medium text-[#ABC4FF] items-center ",children:["Price updated",(0,l.jsxs)(eu.Z,{placement:"bottom-right",children:[(0,l.jsx)(el.Z,{size:"sm",heroIconName:"question-mark-circle",className:"ml-2 cursor-help"}),(0,l.jsx)(eu.Z.Panel,{children:(0,l.jsx)("p",{className:"w-80",children:"Price has changed since your swap amount was entered."})})]})]}),(0,l.jsx)(Y.Z,{size:"sm",className:"frosted-glass-teal",onClick:()=>t(!0),children:"Accept"})]})})}function eH(){let e=(0,S.Z)(e=>e.solBalance),t=(0,A.hi)(e,10**T.Bk);return(0,l.jsx)(en.U,{children:t&&(0,x.lt)(t,T.kn)&&(0,x.eg)(t,0)&&(0,l.jsxs)(ea.Z,{className:"text-sm mt-4 text-[#D8CB39] items-center justify-center",children:["SOL balance: ",(0,v.B)(t)," ",(0,l.jsxs)(eu.Z,{placement:"bottom-right",children:[(0,l.jsx)(el.Z,{size:"sm",heroIconName:"question-mark-circle",className:"ml-2 cursor-help"}),(0,l.jsx)(eu.Z.Panel,{children:(0,l.jsxs)("p",{className:"w-80",children:["SOL is needed for Solana network fees. A minimum balance of ",T.kn," SOL is recommended to avoid failed transactions. This swap will leave you with less than ",T.kn," SOL."]})})]})]})})}function e_(e){var t,n;let{className:s}=e,[a,c]=(0,i.useState)(!1),u=(0,k.Z)(e=>e.coin1),d=(0,k.Z)(e=>e.coin2),m=(0,k.Z)(e=>e.directionReversed),f=m?d:u,p=m?u:d,h=(0,k.Z)(e=>e.executionPrice),g=(0,k.Z)(e=>e.priceImpact),b=(0,i.useMemo)(()=>(0,x.$u)(g)&&(0,x.eg)(g,.05),[g]),y=(0,i.useMemo)(()=>(0,x.$u)(g)&&(0,x.eg)(g,.01),[g]),j=(0,r.ZP)(e=>e.isMobile),Z=a?p:f,S=a?f:p;return(0,l.jsxs)(Q.Z,{children:[(0,l.jsx)(en.U,{children:h&&!h.denominator.isZero()&&(0,l.jsxs)(ea.Z,{className:(0,o.m)("font-medium text-sm text-[#ABC4FF]",s),children:[(0,l.jsxs)("div",{className:"whitespace-nowrap",children:[1," ",null!==(t=null==Z?void 0:Z.symbol)&&void 0!==t?t:"--"," ≈"," ",(0,v.B)(a&&0!==parseInt(null==h?void 0:h.numerator.toString())?(0,A.hi)(1,h):h,{decimalLength:j?"auto 2":"auto",zeroDecimalNotAuto:!0})," ",null!==(n=null==S?void 0:S.symbol)&&void 0!==n?n:"--"]}),(0,l.jsx)("div",{className:"ml-2 clickable",onClick:()=>c(e=>!e),children:"⇋"})]})}),(0,l.jsx)(en.U,{children:g?(0,l.jsx)("div",{className:"font-medium text-xs whitespace-nowrap ".concat(b?"text-[#DA2EEF]":y?"text-[#D8CB39]":"text-[#39D0D8]"," transition-colors"),children:b||y?"Price Impact Warning":"Low Price Impact"}):null})]})}function e$(e){var t,n,s,a,c,u,d,m,f,h,g;let{className:b,onExpirationTimeRunToZero:y}=e,j=(0,r.ZP)(e=>e.slippageTolerance),Z=(0,r.ZP)(e=>e.slippageToleranceState),S=(0,B.ZP)(e=>e.getToken),C=(0,k.Z)(e=>e.priceImpact),w=(0,k.Z)(e=>e.coin1),N=(0,k.Z)(e=>e.coin2),P=(0,k.Z)(e=>e.directionReversed),R=P?N:w,E=P?w:N;(0,k.Z)(e=>e.focusSide);let F=(0,k.Z)(e=>e.minReceived),I=(0,k.Z)(e=>e.fee),D=(0,k.Z)(e=>e.maxSpent),L=(0,k.Z)(e=>e.selectedCalcResult),M=(0,k.Z)(e=>e.selectedCalcResultPoolStartTimes),O=(0,i.useMemo)(()=>(0,x.$u)(C)&&(0,x.eg)(C,.05),[C]),z=(0,i.useMemo)(()=>(0,x.$u)(C)&&(0,x.eg)(C,.01),[C]),W=S((null==L?void 0:L.routeType)==="route"?L.middleToken.mint:void 0),V=R&&E?(null==L?void 0:L.routeType)==="amm"?"Raydium Pool":(null==L?void 0:L.routeType)==="route"?(0,l.jsx)(eY,{startSymbol:null!==(t=null==R?void 0:R.symbol)&&void 0!==t?t:"",middleSymbol:null!==(n=null==W?void 0:W.symbol)&&void 0!==n?n:"",endSymbol:null!==(s=null==E?void 0:E.symbol)&&void 0!==s?s:"",poolTypes:L.poolType}):"Others":void 0,q=(0,r.ZP)(e=>e.isApprovePanelShown),U=(0,i.useMemo)(()=>{var e;return!!(null==L?void 0:null===(e=L.poolKey)||void 0===e?void 0:e.some(e=>5===e.version))},[L]),H=R&&(null==L?void 0:L.amountIn.fee)&&(0,p.n)(R,L.amountIn.fee,{alreadyDecimaled:!0}),_=E&&(null==L?void 0:L.amountOut.fee)&&(0,p.n)(E,L.amountOut.fee,{alreadyDecimaled:!0}),$=W&&(null==L?void 0:L.routeType)==="route"&&(null==L?void 0:L.minMiddleAmountFee)?L.minMiddleAmountFee:void 0,Y=null==L?void 0:L.expirationTime;return(0,l.jsxs)(Q.Z,{className:(0,o.m)("pt-5 pb-4 px-6 flex-grow border-1.5  ".concat(O?"border-[#DA2EEF]":z?"border-[rgba(216,203,57,.5)]":"border-[rgba(171,196,255,.5)]"," rounded-xl items-center gap-3 transition-colors"),b),children:[V&&(0,l.jsx)(eJ,{fieldName:"Swapping Through",fieldValue:(0,l.jsxs)(ea.Z,{className:"items-center gap-2",children:[(null==L?void 0:L.routeType)==="amm"&&(null==L?void 0:L.poolType)&&(0,l.jsx)(G.C,{className:"self-center",children:L.poolType}),(0,l.jsx)("div",{children:V})]}),tooltipContent:"This venue gave the best price for your trade"}),D?(0,l.jsx)(eJ,{fieldName:"Maximum Spent",fieldValue:"".concat((0,v.B)(D,{decimalLength:"auto ".concat(null==R?void 0:R.decimals)})," ").concat(null!==(a=null==R?void 0:R.symbol)&&void 0!==a?a:"--"),tooltipContent:"The max amount of tokens you will spend on this trade"}):(0,l.jsx)(eJ,{fieldName:"Minimum Received",fieldValue:"".concat((0,v.B)(F,{decimalLength:"auto ".concat(null==E?void 0:E.decimals)})," ").concat(null!==(c=null==E?void 0:E.symbol)&&void 0!==c?c:"--"),tooltipContent:"The least amount of tokens you will recieve on this trade"}),(0,l.jsx)(eJ,{fieldName:"Price Impact",fieldNameTextColor:O?"#DA2EEF":z?"#D8CB39":void 0,fieldValue:C?(0,x.lt)(C,.001)?"<0.1%":(0,ep.Z)(C):"--",fieldValueTextColor:O?"#DA2EEF":z?"#D8CB39":"#39D0D8",tooltipContent:"The difference between the market price and estimated price due to trade size"}),(0,x.eg)(H,0)&&(0,l.jsx)(eJ,{fieldName:"Transfer Fee (".concat(null!==(u=null==R?void 0:R.symbol)&&void 0!==u?u:"--",")"),fieldValue:"".concat((0,v.B)(H)," ").concat(null!==(d=null==R?void 0:R.symbol)&&void 0!==d?d:"--")}),(0,x.eg)($,0)&&(0,l.jsx)(eJ,{fieldName:"Transfer Fee (".concat(null!==(m=null==W?void 0:W.symbol)&&void 0!==m?m:"--",")"),fieldValue:"".concat((0,v.B)($)," ").concat(null!==(f=null==W?void 0:W.symbol)&&void 0!==f?f:"--")}),(0,x.eg)(_,0)&&(0,l.jsx)(eJ,{fieldName:"Transfer Fee (".concat(null!==(h=null==E?void 0:E.symbol)&&void 0!==h?h:"--",")"),fieldValue:"".concat((0,v.B)(_)," ").concat(null!==(g=null==E?void 0:E.symbol)&&void 0!==g?g:"--")}),Y&&(0,l.jsx)(eJ,{fieldName:"Expiration Time",fieldValue:(0,l.jsx)(eG,{remainSeconds:Y,onReachZeroSeconds:y})}),(0,l.jsxs)(ee.Z,{openDirection:"upwards",className:"w-full",children:[(0,l.jsx)(ee.Z.Body,{children:(0,l.jsxs)(Q.Z,{className:"gap-3 pb-3",children:[(0,l.jsx)(eJ,{fieldName:"Addresses",tooltipContent:(0,l.jsx)(eQ,{})}),(0,l.jsx)(eJ,{fieldName:"Slippage Tolerance",tooltipContent:"The maximum difference between your estimated price and execution price",fieldValue:(0,l.jsxs)(ea.Z,{className:"py-1 px-2 bg-[#141041] rounded-sm text-[#F1F1F2] font-medium text-xs -my-1",children:[(0,l.jsx)(ei.Z,{className:"w-7 px-0",disabled:q,value:(0,v.B)((0,A.dC)(j,100),{decimalLength:"auto 2"}),onUserInput:e=>{let t=(0,A.hi)(parseFloat(e),100);t&&r.ZP.setState({slippageTolerance:t})},pattern:/^\d*\.?\d*$/,maximum:100}),(0,l.jsx)("div",{className:"opacity-50 ml-1",children:"%"})]})}),"too small"===Z&&(0,l.jsx)("div",{className:"text-[#D8CB39] text-xs mobile:text-sm",children:"Your transaction may fail"}),"too large"===Z&&(0,l.jsx)("div",{className:"text-[#D8CB39] text-xs mobile:text-sm",children:"Your transaction may be frontrun and result in an unfavorable trade"}),null==M?void 0:M.map(e=>{var t,n;let{ammId:i,poolInfo:o,startTime:r}=e;return(0,l.jsx)(eJ,{fieldName:L&&L.poolKey.length>1?"Open at (".concat(null===(t=S(o.baseMint))||void 0===t?void 0:t.symbol,"-").concat(null===(n=S(o.quoteMint))||void 0===n?void 0:n.symbol,")"):"Open at",fieldValue:(0,ed.xn)(r)},i)}),(0,l.jsx)(eJ,{fieldName:"Swap Fee",tooltipContent:"Of the 0.25% swap fee, 0.22% goes to LPs and 0.03% is used to buy back RAY.".concat(U?" For stable swaps, the 0.02% fee goes to LPs.":""," "),fieldValue:I?(0,l.jsx)(Q.Z,{children:I.map(e=>{var t,n;let i=(0,T.wE)(e);return(0,l.jsxs)("div",{className:"text-right",children:[(0,v.B)(i)," ",null!==(n=null===(t=S(i.token.mint))||void 0===t?void 0:t.symbol)&&void 0!==n?n:"--"]},i.token.symbol)})}):"--"})]})}),(0,l.jsx)(ee.Z.Face,{children:e=>{let{isOpen:t}=e;return(0,l.jsxs)(ea.Z,{className:"w-full items-center text-xs font-medium text-[rgba(171,196,255,0.5)] cursor-pointer select-none",children:[(0,l.jsx)("div",{children:t?"Show less":"More information"}),(0,l.jsx)(el.Z,{size:"xs",heroIconName:t?"chevron-up":"chevron-down",className:"ml-1"})]})}})]})]})}function eG(e){var t;let{remainSeconds:n,onReachZeroSeconds:o}=e,r=null!==(t=(0,s.ZP)(e=>e.chainTimeOffset))&&void 0!==t?t:0,[a,c]=(0,i.useState)(Math.max((null!=n?n:0)-r/1e3,0));(0,eg.L)(()=>{c(Math.max((null!=n?n:0)-r/1e3,0))},[r,n]),(0,eg.L)(()=>{a<=0&&(null==o||o())},[a<=0]);let{days:u,hours:d,minutes:m,seconds:f}=(0,em.ZP)(1e3*a);return(0,ev.N)({loop:u?36e5:d?6e4:1e3,disable:!n,disableWhenDocumentInvisiable:!1,onLoop:()=>c(e=>e>0?e-1:e)}),(0,l.jsx)("div",{className:"inline-block",children:u?(0,ed.xn)(Date.now()+r+a):d?"rest: ".concat(d,"h ").concat(m,"m"):m?"rest: ".concat(m,"m ").concat(f,"s"):"rest: ".concat(f,"s")})}function eY(e){let{startSymbol:t,middleSymbol:n,endSymbol:i,poolTypes:o}=e;return(0,l.jsxs)(ea.Z,{className:"items-center",children:[t," ",(0,l.jsx)(eK,{tagValue:o[0]})," ",n," ",(0,l.jsx)(eK,{tagValue:o[1]}),i]})}function eK(e){let{tagValue:t}=e,n=(0,i.useRef)(null),[o,r]=(0,i.useState)(0),s=()=>{n.current&&r(n.current.clientWidth)};return(0,i.useEffect)(()=>{s(),t||r(12)},[t]),(0,l.jsxs)("div",{className:"relative top-[-15px]",style:{marginLeft:4,marginRight:4,maxHeight:19},children:[(0,l.jsx)("div",{ref:n,children:t?(0,l.jsx)(G.C,{className:"justify-center text-[8px] px-1",children:t}):(0,l.jsx)("div",{style:{height:19,width:12}})}),(0,l.jsx)(eX,{className:"",width:o})]})}function eX(e){let{className:t,width:n}=e;return(0,l.jsx)("div",{className:(0,o.m)("flex flex-col justify-start mt-[-2px] items-end",t),children:(0,l.jsxs)("svg",{width:n,height:15,viewBox:"0 0 ".concat(n," 15"),children:[(0,l.jsx)("defs",{children:(0,l.jsx)("marker",{id:"arrow",markerWidth:"8",markerHeight:"8",refX:"3.5",refY:"4.5",orient:"auto",children:(0,l.jsx)("path",{d:"M3.5,4.5 L2,7 L7,4.5 L2,2 L3.5,4.5",fill:"white"})})}),(0,l.jsx)("path",{d:"M0,7 H".concat(n-5),vectorEffect:"non-scaling-stroke",stroke:"white",strokeWidth:"1.25px",fill:"none",markerEnd:"url(#arrow)"})]})})}function eJ(e){let{className:t,fieldName:n,fieldValue:i,tooltipContent:r,fieldNameTextColor:s,fieldValueTextColor:a}=e;return(0,l.jsxs)(ea.Z,{className:(0,o.m)("w-full justify-between",t),children:[(0,l.jsxs)(ea.Z,{className:"items-center text-xs font-medium text-[#ABC4FF]",style:{color:s},children:[(0,l.jsx)("div",{className:"mr-1",children:n}),r&&(0,l.jsxs)(eu.Z,{className:t,placement:"bottom-right",children:[(0,l.jsx)(el.Z,{size:"xs",heroIconName:"question-mark-circle",className:"cursor-help"}),(0,l.jsx)(eu.Z.Panel,{children:(0,l.jsx)("div",{className:"max-w-[30em]",children:r})})]})]}),(0,l.jsx)("div",{className:"text-xs font-medium text-white text-right",style:{color:a},children:i})]})}function eQ(){var e,t,n,i;let o=(0,k.Z)(e=>e.coin1),r=(0,k.Z)(e=>e.coin2),s=(0,k.Z)(e=>e.selectedCalcResult),a=null==s?void 0:s.poolKey;return(0,l.jsxs)("div",{className:"w-60",children:[(0,l.jsx)("div",{className:"text-sm font-semibold mb-2",children:"Addresses"}),(0,l.jsxs)(Q.Z,{className:"gap-2",children:[(0,l.jsx)(e0,{label:null!==(e=null==o?void 0:o.symbol)&&void 0!==e?e:"--",type:"token",address:String(null!==(t=null==o?void 0:o.mint)&&void 0!==t?t:"--")}),(0,l.jsx)(e0,{label:null!==(n=null==r?void 0:r.symbol)&&void 0!==n?n:"--",type:"token",address:String(null!==(i=null==r?void 0:r.mint)&&void 0!==i?i:"--")}),(null==a?void 0:a.length)?(0,l.jsx)(l.Fragment,{children:a.map((e,t,n)=>{let i=[],o="";return(n.length>1&&(o="(route ".concat(t+1,")")),"marketId"in e)?(i.push((0,l.jsx)(e0,{label:"Market ID ".concat(o),address:e.marketId},"market"+e.marketId)),i.push((0,l.jsx)(e0,{label:"Amm ID ".concat(o),address:e.id},"amm"+e.id))):i.push((0,l.jsx)(e0,{label:"Amm ID ".concat(o),address:(0,N.ZP)(e.id)},"amm"+e.id)),i})}):null]})]})}function e0(e){let{className:t,label:n,address:i,type:r="account"}=e;return(0,l.jsxs)(ea.Z,{className:(0,o.m)("grid gap-2 items-center grid-cols-[5em,1fr,auto,auto]",t),children:[(0,l.jsx)("div",{className:"text-xs font-normal text-white",children:n}),(0,l.jsx)($.U,{showDigitCount:5,addressType:r,canCopy:!0,canExternalLink:!0,textClassName:"flex text-xs font-normal text-white bg-[#141041] rounded justify-center",children:i})]})}function e1(){let e=(0,k.Z)(e=>e.coin1),t=(0,k.Z)(e=>e.coin2),n=(0,k.Z)(e=>e.directionReversed),o=(0,i.useRef)(null),r=(0,i.useRef)(null),[s,{toggleSwap:a,resetSwapPosition:c}]=(0,eF.H)(o,r,{defaultHasWrapped:n});(0,i.useEffect)(()=>{var e,t;let l=!!(null===(e=o.current)||void 0===e?void 0:e.clientHeight),i=!!(null===(t=r.current)||void 0===t?void 0:t.clientHeight);s!==n&&l&&i&&a()},[n]);let[u,d]=(0,i.useState)(!1),[m,f]=(0,i.useState)(!1),p=(0,z.DB)([u,m]).length;return(0,ey.P)(e=>{let[t]=e;p<(null!=t?t:0)&&c()},[p]),(0,l.jsxs)(K.Z,{className:"flex ".concat(u||m?"visible":"invisible"," flex-col mt-10 p-2 w-[min(456px,100%)] self-center bg-cyberpunk-card-bg"),size:"lg",children:[(0,l.jsx)("div",{ref:o,children:(0,l.jsx)(e2,{coin:e,onDataChange:e=>d(e)})}),(0,l.jsx)("div",{ref:r,children:(null==t?void 0:t.mintString)!==(null==e?void 0:e.mintString)&&(0,l.jsx)(e2,{coin:t,onDataChange:e=>f(e)})})]})}function e2(e){var t,n,o,s;let{coin:a,onDataChange:c}=e,u=[(0,N.ZP)(L.LA),(0,N.ZP)(L.q3)],d=(0,r.ZP)(e=>e.isMobile),f=(0,k.Z)(e=>e.refreshCount),p=(0,B.ZP)(e=>e.tokenPrices),h=(0,ex.Z)(async()=>{var e,t;return(null==a?void 0:null===(e=a.extensions)||void 0===e?void 0:e.coingeckoId)?await m(null==a?void 0:null===(t=a.extensions)||void 0===t?void 0:t.coingeckoId):void 0},[a,f]),v=null==h?void 0:h[0],g=null==h?void 0:h[h.length-1],b=null!==(t=a&&p[null==a?void 0:a.mintString])&&void 0!==t?t:g,y=(0,x.$u)(v)&&g?(g-v)/v:0,j=y>0,Z=y<0,S=!!(a&&!u.includes(a.mintString)&&(null==h?void 0:h.length));return(0,i.useEffect)(()=>()=>null==c?void 0:c(!1),[]),(0,i.useEffect)(()=>{null==c||c(S)},[S]),(0,l.jsx)(en.U,{children:S&&(0,l.jsxs)("div",{className:"flex mobile:grid mobile:grid-cols-3 mobile:gap-1 p-4 mobile:p-2 w-[min(456px,100%)] self-center items-center",children:[(0,l.jsx)(ea.Z,{className:"items-center mobile:justify-self-center w-16 mobile:w-8 flex-shrink-0",children:(0,l.jsxs)(Q.Z,{className:"gap-1 grow  mobile:items-center",children:[(0,l.jsx)(X.Z,{token:a,size:d?"sm":"smi"}),(0,l.jsx)("div",{className:"font-medium text-sm text-[#abc4ff]",children:null!==(n=null==a?void 0:a.symbol)&&void 0!==n?n:"--"})]})}),(0,l.jsxs)(Q.Z,{className:"items-end mobile:items-center mobile:justify-self-center mobile:ml-0 grow",children:[(0,l.jsx)("div",{className:"text-xs font-medium text-[rgba(171,196,255,0.5)]",children:"Price"}),(0,l.jsx)("div",{className:"text-sm font-medium text-[#abc4ff] whitespace-nowrap",children:"$"+(0,ef.Z)(null==b?void 0:b.toFixed((0,x.lt)(b,.1)?null!==(o=null==a?void 0:a.decimals)&&void 0!==o?o:4:2),{fractionLength:"auto"})})]}),(0,l.jsxs)(Q.Z,{className:"items-start mobile:items-center mobile:justify-self-center ml-8  mobile:ml-0 w-8",children:[(0,l.jsx)("div",{className:"text-xs font-medium text-[rgba(171,196,255,0.5)]",children:"24H%"}),(0,l.jsx)("div",{className:"text-sm font-medium ".concat(j?"text-[#39D0D8]":Z?"text-[#DA2EEF]":"text-[#abc4ff]"),children:(0,ep.Z)(y,{alwaysSigned:!0})})]}),(0,l.jsx)(e5,{className:"ml-10 w-36 mobile:w-full h-12 mobile:col-span-full  mobile:m-0 mobile:mt-2 flex-shrink-0",isPositive:j,isNegative:Z,pricePoints:h})]})})}function e5(e){let{className:t,isPositive:n,isNegative:i,pricePoints:o}=e,r=n?"#39D0D8":i?"#DA2EEF":"#abc4ff",s=Math.max(...o),a=Math.min(...o),c=s-a,u=o.length;return(0,l.jsxs)("svg",{className:t,viewBox:"0 0 2000 1000",preserveAspectRatio:"none",children:[(0,l.jsx)("defs",{children:(0,l.jsxs)("filter",{id:"k-line-glow-".concat(n?"positive":i?"negative":"normal"),children:[(0,l.jsx)("feFlood",{result:"flood",floodColor:r,floodOpacity:".8"}),(0,l.jsx)("feComposite",{in:"flood",result:"mask",in2:"SourceGraphic",operator:"in"}),(0,l.jsx)("feMorphology",{in:"mask",result:"dilated",operator:"dilate",radius:"3"}),(0,l.jsx)("feGaussianBlur",{in:"dilated",result:"blurred",stdDeviation:"8"}),(0,l.jsxs)("feMerge",{children:[(0,l.jsx)("feMergeNode",{in:"blurred"}),(0,l.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})}),(0,l.jsx)("g",{filter:"url(#k-line-glow-".concat(n?"positive":i?"negative":"normal",")"),children:!!u&&(c?(0,l.jsx)("polyline",{vectorEffect:"non-scaling-stroke",points:o.map((e,t)=>{let n=function(e){let t=.1*s;return c>t?(c-(e-a))/c*1e3:1e3-((t-c)/2+(e-a))*1e3/t}(e);return"".concat(t/u*2e3,",").concat(n)}).join(" "),stroke:r,fill:"none"}):(0,l.jsx)("line",{x1:"0",y1:"499.9",x2:"2000",y2:"500",stroke:r,fill:"none",strokeWidth:"16"}))})]})}},91107:function(e,t,n){"use strict";n.d(t,{E:function(){return R}});var l,i,o=n(67294),r=n(12351),s=n(19946),a=n(32984),c=n(16723),u=n(61363),d=n(84575),m=n(95389),f=n(39516),p=n(15466),h=n(23784),x=n(46045),v=n(18689),g=n(73781),b=n(31147),y=n(64103),j=n(3855),Z=n(94192),S=((l=S||{})[l.RegisterOption=0]="RegisterOption",l[l.UnregisterOption=1]="UnregisterOption",l);let k={0(e,t){let n=[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}];return{...e,options:(0,d.z2)(n,e=>e.element.current)}},1(e,t){let n=e.options.slice(),l=e.options.findIndex(e=>e.id===t.id);return -1===l?e:(n.splice(l,1),{...e,options:n})}},C=(0,o.createContext)(null);C.displayName="RadioGroupDataContext";let w=(0,o.createContext)(null);function N(e,t){return(0,a.E)(t.type,k,e,t)}w.displayName="RadioGroupActionsContext";let T=(0,r.yV)(function(e,t){let n=(0,s.M)(),{id:l=`headlessui-radiogroup-${n}`,value:i,defaultValue:a,name:y,onChange:j,by:S=(e,t)=>e===t,disabled:k=!1,...T}=e,P=(0,g.z)("string"==typeof S?(e,t)=>(null==e?void 0:e[S])===(null==t?void 0:t[S]):S),[R,E]=(0,o.useReducer)(N,{options:[]}),A=R.options,[F,I]=(0,m.b)(),[D,B]=(0,f.f)(),L=(0,o.useRef)(null),M=(0,h.T)(L,t),[O,z]=(0,b.q)(i,j,a),W=(0,o.useMemo)(()=>A.find(e=>!e.propsRef.current.disabled),[A]),V=(0,o.useMemo)(()=>A.some(e=>P(e.propsRef.current.value,O)),[A,O]),q=(0,g.z)(e=>{var t;if(k||P(e,O))return!1;let n=null==(t=A.find(t=>P(t.propsRef.current.value,e)))?void 0:t.propsRef.current;return(null==n||!n.disabled)&&(null==z||z(e),!0)});!function({container:e,accept:t,walk:n,enabled:l=!0}){let i=(0,o.useRef)(t),r=(0,o.useRef)(n);(0,o.useEffect)(()=>{i.current=t,r.current=n},[t,n]),(0,c.e)(()=>{if(!e||!l)return;let t=(0,p.r)(e);if(!t)return;let n=i.current,o=r.current,s=Object.assign(e=>n(e),{acceptNode:n}),a=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,s,!1);for(;a.nextNode();)o(a.currentNode)},[e,l,i,r])}({container:L.current,accept:e=>"radio"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let U=(0,g.z)(e=>{let t=L.current;if(!t)return;let n=(0,p.r)(t),l=A.filter(e=>!1===e.propsRef.current.disabled).map(e=>e.element.current);switch(e.key){case u.R.Enter:(0,v.g)(e.currentTarget);break;case u.R.ArrowLeft:case u.R.ArrowUp:if(e.preventDefault(),e.stopPropagation(),(0,d.jA)(l,d.TO.Previous|d.TO.WrapAround)===d.fE.Success){let e=A.find(e=>e.element.current===(null==n?void 0:n.activeElement));e&&q(e.propsRef.current.value)}break;case u.R.ArrowRight:case u.R.ArrowDown:if(e.preventDefault(),e.stopPropagation(),(0,d.jA)(l,d.TO.Next|d.TO.WrapAround)===d.fE.Success){let e=A.find(e=>e.element.current===(null==n?void 0:n.activeElement));e&&q(e.propsRef.current.value)}break;case u.R.Space:{e.preventDefault(),e.stopPropagation();let t=A.find(e=>e.element.current===(null==n?void 0:n.activeElement));t&&q(t.propsRef.current.value)}}}),H=(0,g.z)(e=>(E({type:0,...e}),()=>E({type:1,id:e.id}))),_=(0,o.useMemo)(()=>({value:O,firstOption:W,containsCheckedOption:V,disabled:k,compare:P,...R}),[O,W,V,k,P,R]),$=(0,o.useMemo)(()=>({registerOption:H,change:q}),[H,q]),G=(0,o.useMemo)(()=>({value:O}),[O]),Y=(0,o.useRef)(null),K=(0,Z.G)();return(0,o.useEffect)(()=>{Y.current&&void 0!==a&&K.addEventListener(Y.current,"reset",()=>{q(a)})},[Y,q]),o.createElement(B,{name:"RadioGroup.Description"},o.createElement(I,{name:"RadioGroup.Label"},o.createElement(w.Provider,{value:$},o.createElement(C.Provider,{value:_},null!=y&&null!=O&&(0,v.t)({[y]:O}).map(([e,t],n)=>o.createElement(x._,{features:x.A.Hidden,ref:0===n?e=>{var t;Y.current=null!=(t=null==e?void 0:e.closest("form"))?t:null}:void 0,...(0,r.oA)({key:e,as:"input",type:"radio",checked:null!=t,hidden:!0,readOnly:!0,name:e,value:t})})),(0,r.sY)({ourProps:{ref:M,id:l,role:"radiogroup","aria-labelledby":F,"aria-describedby":D,onKeyDown:U},theirProps:T,slot:G,defaultTag:"div",name:"RadioGroup"})))))});var P=((i=P||{})[i.Empty=1]="Empty",i[i.Active=2]="Active",i);let R=Object.assign(T,{Option:(0,r.yV)(function(e,t){var n;let l=(0,s.M)(),{id:i=`headlessui-radiogroup-option-${l}`,value:a,disabled:u=!1,...d}=e,p=(0,o.useRef)(null),x=(0,h.T)(p,t),[v,b]=(0,m.b)(),[Z,S]=(0,f.f)(),{addFlag:k,removeFlag:N,hasFlag:T}=function(e=0){let[t,n]=(0,o.useState)(e);return{addFlag:(0,o.useCallback)(e=>n(t=>t|e),[t]),hasFlag:(0,o.useCallback)(e=>!!(t&e),[t]),removeFlag:(0,o.useCallback)(e=>n(t=>t&~e),[n]),toggleFlag:(0,o.useCallback)(e=>n(t=>t^e),[n])}}(1),P=(0,j.E)({value:a,disabled:u}),R=function e(t){let n=(0,o.useContext)(C);if(null===n){let n=Error(`<${t} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,e),n}return n}("RadioGroup.Option"),E=function e(t){let n=(0,o.useContext)(w);if(null===n){let n=Error(`<${t} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,e),n}return n}("RadioGroup.Option");(0,c.e)(()=>E.registerOption({id:i,element:p,propsRef:P}),[i,E,p,e]);let A=(0,g.z)(e=>{var t;if((0,y.P)(e.currentTarget))return e.preventDefault();E.change(a)&&(k(2),null==(t=p.current)||t.focus())}),F=(0,g.z)(e=>{if((0,y.P)(e.currentTarget))return e.preventDefault();k(2)}),I=(0,g.z)(()=>N(2)),D=(null==(n=R.firstOption)?void 0:n.id)===i,B=R.disabled||u,L=R.compare(R.value,a),M={ref:x,id:i,role:"radio","aria-checked":L?"true":"false","aria-labelledby":v,"aria-describedby":Z,"aria-disabled":!!B||void 0,tabIndex:B?-1:L||!R.containsCheckedOption&&D?0:-1,onClick:B?void 0:A,onFocus:B?void 0:F,onBlur:B?void 0:I},O=(0,o.useMemo)(()=>({checked:L,disabled:B,active:T(2)}),[L,B,T]);return o.createElement(S,{name:"RadioGroup.Description"},o.createElement(b,{name:"RadioGroup.Label"},(0,r.sY)({ourProps:M,theirProps:d,slot:O,defaultTag:"div",name:"RadioGroup.Option"})))}),Label:m._,Description:f.d})}},function(e){e.O(0,[3577,3881,2820,7664,7980,9774,2888,179],function(){return e(e.s=98229)}),_N_E=e.O()}]);